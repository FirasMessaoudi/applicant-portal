<nav aria-label="breadcrumb" class="pt-2">
  <ol class="breadcrumb bg-white mb-0 px-0 d-none d-md-flex">
    <li class="breadcrumb-item active" aria-current="page "></li>
  </ol>
</nav>
<app-loading [loading]="loading"></app-loading>

<div class="content__wrapper">
  <div class="title__Page d-flex justify-content-">
    <h3 class="sectionTitle">
      {{ "complaint-management.title" | translate }}
    </h3>
    <button class="btn btn-outline-dcc-primary px-4" type="button" [routerLink]="['/complaint/create']">{{'complaint-management.create_title'| translate}}</button>
  </div>

  <div class="content__section" *ngIf="!loading">
    <div class="table-responsive mb-4">
      <table id="systemDefinedNotifications" class="table table-striped table-hover">
        <thead>
        <tr>
          <th scope="col">{{'complaint-management.complaint_number' | translate}}</th>
          <th scope="col">{{'complaint-management.complaint_type' | translate}}</th>
          <th scope="col">{{'complaint-management.complaint_date' | translate}}</th>
          <th scope="col">{{'complaint-management.status' | translate}}</th>
          <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngIf="!complaints || complaints.length === 0" class="text-center">
          <td colspan="10">
            <svg-icon styleClass="display-1 text-dcc-light" icon="empty-set"></svg-icon>
            <p class="text-light-gray mb-3">{{ "general.no_data_found_matching_given_criteria" | translate }}</p>
          </td>
        </tr>
        <tr *ngFor="let complaint of complaints">
          <td class="ltr">{{complaint.referenceNumber}}</td>
          <td
            class="ltr">{{complaint.typeCode ? lookupService().localizedLabel(complaintTypes, complaint.typeCode) : '---'}}</td>
          <td>{{formatDate(complaint?.creationDate)}}
            {{complaint?.creationDate | date: 'HH:mm'}}
          </td>
          <td class=" d-flex align-items-baseline">
            <span class="status {{buildStatusClass(complaint?.statusCode)}} mr-1"></span>
            <span>{{complaint.statusCode ? lookupService().localizedLabel(complaintStatuses, complaint.statusCode) : '---'}}</span>
          </td>
          <td>
            <button [routerLink]="['/complaint/details/'+ complaint.id]"
                    class="btn btn-sm btn-outline-dcc-primary tblView">
              {{"general.btn_view" | translate}}
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
