<nav aria-label="breadcrumb" class="pt-2">
  <ol class="breadcrumb bg-white mb-0 px-0 d-none d-md-flex">
    <li class="breadcrumb-item active" aria-current="page "></li>
  </ol>
</nav>
<div class="content__wrapper">
  <div class="title__Page d-flex justify-content-">
    <h3 class="sectionTitle">
      {{ "incident-management.title" | translate }}
    </h3>
    <button class="btn btn-outline-dcc-primary px-4" type="button" [routerLink]="['/incident/create']">{{'incident-management.create_title'| translate}}</button>
  </div>

  <div class="content__section" >
    <div class="table-responsive mb-4">
      <table id="systemDefinedNotifications" class="table table-striped table-hover">
        <thead>
        <tr>
          <th scope="col">{{'incident-management.incident_number' | translate}}</th>
          <th scope="col">{{'incident-management.incident_type' | translate}}</th>
          <th scope="col">{{'incident-management.incident_date' | translate}}</th>
          <th scope="col">{{'incident-management.status' | translate}}</th>
          <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngIf="!incidents || incidents.length === 0" class="text-center">
          <td colspan="10">
            <svg-icon styleClass="display-1 text-dcc-light" icon="empty-set"></svg-icon>
            <p class="text-light-gray mb-3">{{ "general.no_data_found_matching_given_criteria" | translate }}</p>
          </td>
        </tr>
        <tr *ngFor="let incident of incidents">
          <td class="ltr">{{incident.referenceNumber}}</td>
          <td
            class="ltr">{{incident.typeCode ? lookupService().localizedLabel(incidentTypes, incident.typeCode) : '---'}}</td>
          <td>{{formatDate(incident?.creationDate)}}
            {{incident?.creationDate | date: 'HH:mm'}}
          </td>
          <td class=" d-flex align-items-baseline">
            <span class="status {{buildStatusClass(incident?.statusCode)}} mr-1"></span>
            <span>{{incident.statusCode ? lookupService().localizedLabel(incidentStatuses, incident.statusCode) : '---'}}</span>
          </td>
          <td>
            <button [routerLink]="['/incident/details', incident.id]"
                    class="btn btn-sm btn-outline-dcc-primary tblView">
              {{"general.btn_view" | translate}}
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
