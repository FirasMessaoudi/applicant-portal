<nav aria-label="breadcrumb" class="pt-2">
  <ol class="breadcrumb bg-white mb-0 px-0 d-none d-md-flex">
    <li class="breadcrumb-item active" aria-current="page "></li>
  </ol>
</nav>
<a class="d-block button_back" href="javascript:void(0);" (click)="navigateToList()">
  <svg-icon styleClass="ml-4 mr-2 flip" icon="arrow-right"></svg-icon>
  <span class="mx-2 px-1">{{'general.btn_back' | translate}}</span>
</a>
<div class="content__wrapper">
  <div class="title__Page">
    <h3 class="sectionTitle">{{"incident-management.title" | translate }}</h3>
  </div>

  <h5 class="subtitle__Page mb-4">{{'incident-management.incident_details' | translate}}</h5>
  <div class="content__section">
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3">
      <div class="form-group col">
        <label class="col-form-label">{{"incident-management.incident_number" | translate }}</label>
        <label class="form-control-plaintext">{{incident?.referenceNumber}}</label>
      </div>
      <div class="form-group col">
        <label class="col-form-label">{{"incident-management.incident_type" | translate }}</label>
        <label
          class="form-control-plaintext">{{incident?.typeCode ? lookupService().localizedLabel(incidentTypes, incident?.typeCode) : '---'}}</label>
      </div>
      <div class="form-group col">
        <label class="col-form-label">{{"incident-management.incident_date" | translate }}</label>
        <label class="form-control-plaintext">{{incident?.creationDate | dateFormat}}</label>
      </div>
    </div>
      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3">
      <div class="form-group col">
        <label class="col-form-label">{{"incident-management.status" | translate }}</label>
        <label class="form-control-plaintext">
          <span class="status {{buildStatusClass(incident?.statusCode)}} mr-1"></span>
          <span>{{incident?.statusCode ? lookupService().localizedLabel(incidentStatuses, incident?.statusCode) : '---'}}</span>
        </label>
      </div>

      <div class="form-group col">
        <label class="col-form-label">{{"incident-management.incident_city" | translate }}</label>
        <label class="form-control-plaintext">{{incident?.city ? lookupService().localizedLabel(cities, incident?.city) : '---'}}</label>
      </div>
      <div class="form-group col">
        <label class="col-form-label">{{"incident-management.camp_number" | translate }}</label>
        <label class="form-control-plaintext">{{incident?.campNumber ? incident?.campNumber : '---'}}</label>
      </div>
      </div>
    <div class="row rows-cols-1">
    <div class="form-group col" *ngIf="incident?.incidentAttachment">
        <label class="col-form-label">{{"incident-management.attachments" | translate }}</label>
        <a (click)="downloadAttachment(incident?.incidentAttachment?.id, incident?.incidentAttachment?.filePath)" class="form-control-plaintext attachment">
          <u>{{incident?.incidentAttachment?.filePath.substring(incident?.incidentAttachment?.filePath?.lastIndexOf("/") + 1)}}</u>
        </a>
      </div>
    </div>
    <div class="row rows-cols-1">
      <div class="form-group col">
        <label class="col-form-label">{{"incident-management.incident_description" | translate }}</label>
        <label class="form-control-plaintext text-break">{{incident?.description}}</label>
      </div>
    </div>
  </div>

</div>
